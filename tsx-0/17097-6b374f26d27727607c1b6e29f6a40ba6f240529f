{"code":"(()=>{\nvar __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});module.exports=Pend;function Pend(){this.pending=0;this.max=Infinity;this.listeners=[];this.waiting=[];this.error=null}__name(Pend,\"Pend\");Pend.prototype.go=function(fn){if(this.pending<this.max){pendGo(this,fn)}else{this.waiting.push(fn)}};Pend.prototype.wait=function(cb){if(this.pending===0){cb(this.error)}else{this.listeners.push(cb)}};Pend.prototype.hold=function(){return pendHold(this)};function pendHold(self){self.pending+=1;var called=false;return onCb;function onCb(err){if(called)throw new Error(\"callback called twice\");called=true;self.error=self.error||err;self.pending-=1;if(self.waiting.length>0&&self.pending<self.max){pendGo(self,self.waiting.shift())}else if(self.pending===0){var listeners=self.listeners;self.listeners=[];listeners.forEach(cbListener)}}__name(onCb,\"onCb\");function cbListener(listener){listener(self.error)}__name(cbListener,\"cbListener\")}__name(pendHold,\"pendHold\");function pendGo(self,fn){fn(pendHold(self))}__name(pendGo,\"pendGo\");\n})()\n","warnings":[],"map":{"version":3,"mappings":";kHAAA,OAAO,QAAU,KAEjB,SAAS,MAAO,CACd,KAAK,QAAU,EACf,KAAK,IAAM,SACX,KAAK,UAAY,CAAC,EAClB,KAAK,QAAU,CAAC,EAChB,KAAK,MAAQ,IACf,CANS,oBAQT,KAAK,UAAU,GAAK,SAAS,GAAI,CAC/B,GAAI,KAAK,QAAU,KAAK,IAAK,CAC3B,OAAO,KAAM,EAAE,CACjB,KAAO,CACL,KAAK,QAAQ,KAAK,EAAE,CACtB,CACF,EAEA,KAAK,UAAU,KAAO,SAAS,GAAI,CACjC,GAAI,KAAK,UAAY,EAAG,CACtB,GAAG,KAAK,KAAK,CACf,KAAO,CACL,KAAK,UAAU,KAAK,EAAE,CACxB,CACF,EAEA,KAAK,UAAU,KAAO,UAAW,CAC/B,OAAO,SAAS,IAAI,CACtB,EAEA,SAAS,SAAS,KAAM,CACtB,KAAK,SAAW,EAChB,IAAI,OAAS,MACb,OAAO,KACP,SAAS,KAAK,IAAK,CACjB,GAAI,OAAQ,MAAM,IAAI,MAAM,uBAAuB,EACnD,OAAS,KACT,KAAK,MAAQ,KAAK,OAAS,IAC3B,KAAK,SAAW,EAChB,GAAI,KAAK,QAAQ,OAAS,GAAK,KAAK,QAAU,KAAK,IAAK,CACtD,OAAO,KAAM,KAAK,QAAQ,MAAM,CAAC,CACnC,SAAW,KAAK,UAAY,EAAG,CAC7B,IAAI,UAAY,KAAK,UACrB,KAAK,UAAY,CAAC,EAClB,UAAU,QAAQ,UAAU,CAC9B,CACF,CAZS,oBAaT,SAAS,WAAW,SAAU,CAC5B,SAAS,KAAK,KAAK,CACrB,CAFS,+BAGX,CApBS,4BAsBT,SAAS,OAAO,KAAM,GAAI,CACxB,GAAG,SAAS,IAAI,CAAC,CACnB,CAFS","names":[],"sources":["/Users/markbakker/RiderProjects/mycrm/node_modules/.pnpm/pend@1.2.0/node_modules/pend/index.js"],"sourcesContent":["module.exports = Pend;\n\nfunction Pend() {\n  this.pending = 0;\n  this.max = Infinity;\n  this.listeners = [];\n  this.waiting = [];\n  this.error = null;\n}\n\nPend.prototype.go = function(fn) {\n  if (this.pending < this.max) {\n    pendGo(this, fn);\n  } else {\n    this.waiting.push(fn);\n  }\n};\n\nPend.prototype.wait = function(cb) {\n  if (this.pending === 0) {\n    cb(this.error);\n  } else {\n    this.listeners.push(cb);\n  }\n};\n\nPend.prototype.hold = function() {\n  return pendHold(this);\n};\n\nfunction pendHold(self) {\n  self.pending += 1;\n  var called = false;\n  return onCb;\n  function onCb(err) {\n    if (called) throw new Error(\"callback called twice\");\n    called = true;\n    self.error = self.error || err;\n    self.pending -= 1;\n    if (self.waiting.length > 0 && self.pending < self.max) {\n      pendGo(self, self.waiting.shift());\n    } else if (self.pending === 0) {\n      var listeners = self.listeners;\n      self.listeners = [];\n      listeners.forEach(cbListener);\n    }\n  }\n  function cbListener(listener) {\n    listener(self.error);\n  }\n}\n\nfunction pendGo(self, fn) {\n  fn(pendHold(self));\n}\n"]}}