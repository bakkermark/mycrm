{"code":"(()=>{\n\"use strict\";const{visit}=require(\"../lib/xast.js\");exports.name=\"cleanupEnableBackground\";exports.description=\"remove or cleanup enable-background attribute when possible\";exports.fn=root=>{const regEnableBackground=/^new\\s0\\s0\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)$/;let hasFilter=false;visit(root,{element:{enter:node=>{if(node.name===\"filter\"){hasFilter=true}}}});return{element:{enter:node=>{if(node.attributes[\"enable-background\"]==null){return}if(hasFilter){if((node.name===\"svg\"||node.name===\"mask\"||node.name===\"pattern\")&&node.attributes.width!=null&&node.attributes.height!=null){const match=node.attributes[\"enable-background\"].match(regEnableBackground);if(match!=null&&node.attributes.width===match[1]&&node.attributes.height===match[3]){if(node.name===\"svg\"){delete node.attributes[\"enable-background\"]}else{node.attributes[\"enable-background\"]=\"new\"}}}}else{delete node.attributes[\"enable-background\"]}}}}};\n})()\n","warnings":[],"map":{"version":3,"mappings":";aAEA,KAAM,CAAE,KAAM,EAAI,QAAQ,gBAAgB,EAE1C,QAAQ,KAAO,0BACf,QAAQ,YACN,8DAgBF,QAAQ,GAAM,MAAS,CACrB,MAAM,oBACJ,gFAEF,IAAI,UAAY,MAChB,MAAM,KAAM,CACV,QAAS,CACP,MAAQ,MAAS,CACf,GAAI,KAAK,OAAS,SAAU,CAC1B,UAAY,IACd,CACF,CACF,CACF,CAAC,EAED,MAAO,CACL,QAAS,CACP,MAAQ,MAAS,CACf,GAAI,KAAK,WAAW,mBAAmB,GAAK,KAAM,CAChD,MACF,CACA,GAAI,UAAW,CACb,IACG,KAAK,OAAS,OACb,KAAK,OAAS,QACd,KAAK,OAAS,YAChB,KAAK,WAAW,OAAS,MACzB,KAAK,WAAW,QAAU,KAC1B,CACA,MAAM,MACJ,KAAK,WAAW,mBAAmB,EAAE,MAAM,mBAAmB,EAChE,GACE,OAAS,MACT,KAAK,WAAW,QAAU,MAAM,CAAC,GACjC,KAAK,WAAW,SAAW,MAAM,CAAC,EAClC,CACA,GAAI,KAAK,OAAS,MAAO,CACvB,OAAO,KAAK,WAAW,mBAAmB,CAC5C,KAAO,CACL,KAAK,WAAW,mBAAmB,EAAI,KACzC,CACF,CACF,CACF,KAAO,CAEL,OAAO,KAAK,WAAW,mBAAmB,CAC5C,CACF,CACF,CACF,CACF","names":[],"sources":["/Users/markbakker/RiderProjects/mycrm/node_modules/.pnpm/svgo@3.0.3/node_modules/svgo/plugins/cleanupEnableBackground.js"],"sourcesContent":["'use strict';\n\nconst { visit } = require('../lib/xast.js');\n\nexports.name = 'cleanupEnableBackground';\nexports.description =\n  'remove or cleanup enable-background attribute when possible';\n\n/**\n * Remove or cleanup enable-background attr which coincides with a width/height box.\n *\n * @see https://www.w3.org/TR/SVG11/filters.html#EnableBackgroundProperty\n *\n * @example\n * <svg width=\"100\" height=\"50\" enable-background=\"new 0 0 100 50\">\n *             â¬‡\n * <svg width=\"100\" height=\"50\">\n *\n * @author Kir Belevich\n *\n * @type {import('./plugins-types').Plugin<'cleanupEnableBackground'>}\n */\nexports.fn = (root) => {\n  const regEnableBackground =\n    /^new\\s0\\s0\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)\\s([-+]?\\d*\\.?\\d+([eE][-+]?\\d+)?)$/;\n\n  let hasFilter = false;\n  visit(root, {\n    element: {\n      enter: (node) => {\n        if (node.name === 'filter') {\n          hasFilter = true;\n        }\n      },\n    },\n  });\n\n  return {\n    element: {\n      enter: (node) => {\n        if (node.attributes['enable-background'] == null) {\n          return;\n        }\n        if (hasFilter) {\n          if (\n            (node.name === 'svg' ||\n              node.name === 'mask' ||\n              node.name === 'pattern') &&\n            node.attributes.width != null &&\n            node.attributes.height != null\n          ) {\n            const match =\n              node.attributes['enable-background'].match(regEnableBackground);\n            if (\n              match != null &&\n              node.attributes.width === match[1] &&\n              node.attributes.height === match[3]\n            ) {\n              if (node.name === 'svg') {\n                delete node.attributes['enable-background'];\n              } else {\n                node.attributes['enable-background'] = 'new';\n              }\n            }\n          }\n        } else {\n          //we don't need 'enable-background' if we have no filters\n          delete node.attributes['enable-background'];\n        }\n      },\n    },\n  };\n};\n"]}}