{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});Object.defineProperty(exports,\"__esModule\",{value:true});exports.compileGeneralSelector=void 0;var attributes_js_1=require(\"./attributes.js\");var index_js_1=require(\"./pseudo-selectors/index.js\");var css_what_1=require(\"css-what\");function getElementParent(node,adapter){var parent=adapter.getParent(node);if(parent&&adapter.isTag(parent)){return parent}return null}__name(getElementParent,\"getElementParent\");function compileGeneralSelector(next,selector,options,context,compileToken){var adapter=options.adapter,equals=options.equals;switch(selector.type){case css_what_1.SelectorType.PseudoElement:{throw new Error(\"Pseudo-elements are not supported by css-select\")}case css_what_1.SelectorType.ColumnCombinator:{throw new Error(\"Column combinators are not yet supported by css-select\")}case css_what_1.SelectorType.Attribute:{if(selector.namespace!=null){throw new Error(\"Namespaced attributes are not yet supported by css-select\")}if(!options.xmlMode||options.lowerCaseAttributeNames){selector.name=selector.name.toLowerCase()}return attributes_js_1.attributeRules[selector.action](next,selector,options)}case css_what_1.SelectorType.Pseudo:{return(0,index_js_1.compilePseudoSelector)(next,selector,options,context,compileToken)}case css_what_1.SelectorType.Tag:{if(selector.namespace!=null){throw new Error(\"Namespaced tag names are not yet supported by css-select\")}var name_1=selector.name;if(!options.xmlMode||options.lowerCaseTags){name_1=name_1.toLowerCase()}return __name(function tag(elem){return adapter.getName(elem)===name_1&&next(elem)},\"tag\")}case css_what_1.SelectorType.Descendant:{if(options.cacheResults===false||typeof WeakSet===\"undefined\"){return __name(function descendant(elem){var current=elem;while(current=getElementParent(current,adapter)){if(next(current)){return true}}return false},\"descendant\")}var isFalseCache_1=new WeakSet;return __name(function cachedDescendant(elem){var current=elem;while(current=getElementParent(current,adapter)){if(!isFalseCache_1.has(current)){if(adapter.isTag(current)&&next(current)){return true}isFalseCache_1.add(current)}}return false},\"cachedDescendant\")}case\"_flexibleDescendant\":{return __name(function flexibleDescendant(elem){var current=elem;do{if(next(current))return true}while(current=getElementParent(current,adapter));return false},\"flexibleDescendant\")}case css_what_1.SelectorType.Parent:{return __name(function parent(elem){return adapter.getChildren(elem).some(function(elem2){return adapter.isTag(elem2)&&next(elem2)})},\"parent\")}case css_what_1.SelectorType.Child:{return __name(function child(elem){var parent=adapter.getParent(elem);return parent!=null&&adapter.isTag(parent)&&next(parent)},\"child\")}case css_what_1.SelectorType.Sibling:{return __name(function sibling(elem){var siblings=adapter.getSiblings(elem);for(var i=0;i<siblings.length;i++){var currentSibling=siblings[i];if(equals(elem,currentSibling))break;if(adapter.isTag(currentSibling)&&next(currentSibling)){return true}}return false},\"sibling\")}case css_what_1.SelectorType.Adjacent:{if(adapter.prevElementSibling){return __name(function adjacent(elem){var previous=adapter.prevElementSibling(elem);return previous!=null&&next(previous)},\"adjacent\")}return __name(function adjacent(elem){var siblings=adapter.getSiblings(elem);var lastElement;for(var i=0;i<siblings.length;i++){var currentSibling=siblings[i];if(equals(elem,currentSibling))break;if(adapter.isTag(currentSibling)){lastElement=currentSibling}}return!!lastElement&&next(lastElement)},\"adjacent\")}case css_what_1.SelectorType.Universal:{if(selector.namespace!=null&&selector.namespace!==\"*\"){throw new Error(\"Namespaced universal selectors are not yet supported by css-select\")}return next}}}__name(compileGeneralSelector,\"compileGeneralSelector\");exports.compileGeneralSelector=compileGeneralSelector;\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":["elem"],"sources":["/Users/markbakker/RiderProjects/mycrm/node_modules/.pnpm/css-select@5.1.0/node_modules/css-select/lib/general.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileGeneralSelector = void 0;\nvar attributes_js_1 = require(\"./attributes.js\");\nvar index_js_1 = require(\"./pseudo-selectors/index.js\");\nvar css_what_1 = require(\"css-what\");\nfunction getElementParent(node, adapter) {\n    var parent = adapter.getParent(node);\n    if (parent && adapter.isTag(parent)) {\n        return parent;\n    }\n    return null;\n}\n/*\n * All available rules\n */\nfunction compileGeneralSelector(next, selector, options, context, compileToken) {\n    var adapter = options.adapter, equals = options.equals;\n    switch (selector.type) {\n        case css_what_1.SelectorType.PseudoElement: {\n            throw new Error(\"Pseudo-elements are not supported by css-select\");\n        }\n        case css_what_1.SelectorType.ColumnCombinator: {\n            throw new Error(\"Column combinators are not yet supported by css-select\");\n        }\n        case css_what_1.SelectorType.Attribute: {\n            if (selector.namespace != null) {\n                throw new Error(\"Namespaced attributes are not yet supported by css-select\");\n            }\n            if (!options.xmlMode || options.lowerCaseAttributeNames) {\n                selector.name = selector.name.toLowerCase();\n            }\n            return attributes_js_1.attributeRules[selector.action](next, selector, options);\n        }\n        case css_what_1.SelectorType.Pseudo: {\n            return (0, index_js_1.compilePseudoSelector)(next, selector, options, context, compileToken);\n        }\n        // Tags\n        case css_what_1.SelectorType.Tag: {\n            if (selector.namespace != null) {\n                throw new Error(\"Namespaced tag names are not yet supported by css-select\");\n            }\n            var name_1 = selector.name;\n            if (!options.xmlMode || options.lowerCaseTags) {\n                name_1 = name_1.toLowerCase();\n            }\n            return function tag(elem) {\n                return adapter.getName(elem) === name_1 && next(elem);\n            };\n        }\n        // Traversal\n        case css_what_1.SelectorType.Descendant: {\n            if (options.cacheResults === false ||\n                typeof WeakSet === \"undefined\") {\n                return function descendant(elem) {\n                    var current = elem;\n                    while ((current = getElementParent(current, adapter))) {\n                        if (next(current)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n            // @ts-expect-error `ElementNode` is not extending object\n            var isFalseCache_1 = new WeakSet();\n            return function cachedDescendant(elem) {\n                var current = elem;\n                while ((current = getElementParent(current, adapter))) {\n                    if (!isFalseCache_1.has(current)) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                        isFalseCache_1.add(current);\n                    }\n                }\n                return false;\n            };\n        }\n        case \"_flexibleDescendant\": {\n            // Include element itself, only used while querying an array\n            return function flexibleDescendant(elem) {\n                var current = elem;\n                do {\n                    if (next(current))\n                        return true;\n                } while ((current = getElementParent(current, adapter)));\n                return false;\n            };\n        }\n        case css_what_1.SelectorType.Parent: {\n            return function parent(elem) {\n                return adapter\n                    .getChildren(elem)\n                    .some(function (elem) { return adapter.isTag(elem) && next(elem); });\n            };\n        }\n        case css_what_1.SelectorType.Child: {\n            return function child(elem) {\n                var parent = adapter.getParent(elem);\n                return parent != null && adapter.isTag(parent) && next(parent);\n            };\n        }\n        case css_what_1.SelectorType.Sibling: {\n            return function sibling(elem) {\n                var siblings = adapter.getSiblings(elem);\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling) && next(currentSibling)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n        }\n        case css_what_1.SelectorType.Adjacent: {\n            if (adapter.prevElementSibling) {\n                return function adjacent(elem) {\n                    var previous = adapter.prevElementSibling(elem);\n                    return previous != null && next(previous);\n                };\n            }\n            return function adjacent(elem) {\n                var siblings = adapter.getSiblings(elem);\n                var lastElement;\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling)) {\n                        lastElement = currentSibling;\n                    }\n                }\n                return !!lastElement && next(lastElement);\n            };\n        }\n        case css_what_1.SelectorType.Universal: {\n            if (selector.namespace != null && selector.namespace !== \"*\") {\n                throw new Error(\"Namespaced universal selectors are not yet supported by css-select\");\n            }\n            return next;\n        }\n    }\n}\nexports.compileGeneralSelector = compileGeneralSelector;\n//# sourceMappingURL=general.js.map"]}}