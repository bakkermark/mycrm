{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});Object.defineProperty(exports,\"__esModule\",{value:true});exports.uniqueSort=exports.compareDocumentPosition=exports.DocumentPosition=exports.removeSubsets=void 0;var domhandler_1=require(\"domhandler\");function removeSubsets(nodes){var idx=nodes.length;while(--idx>=0){var node=nodes[idx];if(idx>0&&nodes.lastIndexOf(node,idx-1)>=0){nodes.splice(idx,1);continue}for(var ancestor=node.parent;ancestor;ancestor=ancestor.parent){if(nodes.includes(ancestor)){nodes.splice(idx,1);break}}}return nodes}__name(removeSubsets,\"removeSubsets\");exports.removeSubsets=removeSubsets;var DocumentPosition;(function(DocumentPosition2){DocumentPosition2[DocumentPosition2[\"DISCONNECTED\"]=1]=\"DISCONNECTED\";DocumentPosition2[DocumentPosition2[\"PRECEDING\"]=2]=\"PRECEDING\";DocumentPosition2[DocumentPosition2[\"FOLLOWING\"]=4]=\"FOLLOWING\";DocumentPosition2[DocumentPosition2[\"CONTAINS\"]=8]=\"CONTAINS\";DocumentPosition2[DocumentPosition2[\"CONTAINED_BY\"]=16]=\"CONTAINED_BY\"})(DocumentPosition=exports.DocumentPosition||(exports.DocumentPosition={}));function compareDocumentPosition(nodeA,nodeB){var aParents=[];var bParents=[];if(nodeA===nodeB){return 0}var current=(0,domhandler_1.hasChildren)(nodeA)?nodeA:nodeA.parent;while(current){aParents.unshift(current);current=current.parent}current=(0,domhandler_1.hasChildren)(nodeB)?nodeB:nodeB.parent;while(current){bParents.unshift(current);current=current.parent}var maxIdx=Math.min(aParents.length,bParents.length);var idx=0;while(idx<maxIdx&&aParents[idx]===bParents[idx]){idx++}if(idx===0){return DocumentPosition.DISCONNECTED}var sharedParent=aParents[idx-1];var siblings=sharedParent.children;var aSibling=aParents[idx];var bSibling=bParents[idx];if(siblings.indexOf(aSibling)>siblings.indexOf(bSibling)){if(sharedParent===nodeB){return DocumentPosition.FOLLOWING|DocumentPosition.CONTAINED_BY}return DocumentPosition.FOLLOWING}if(sharedParent===nodeA){return DocumentPosition.PRECEDING|DocumentPosition.CONTAINS}return DocumentPosition.PRECEDING}__name(compareDocumentPosition,\"compareDocumentPosition\");exports.compareDocumentPosition=compareDocumentPosition;function uniqueSort(nodes){nodes=nodes.filter(function(node,i,arr){return!arr.includes(node,i+1)});nodes.sort(function(a,b){var relative=compareDocumentPosition(a,b);if(relative&DocumentPosition.PRECEDING){return-1}else if(relative&DocumentPosition.FOLLOWING){return 1}return 0});return nodes}__name(uniqueSort,\"uniqueSort\");exports.uniqueSort=uniqueSort;\n})()\n","warnings":[],"map":{"version":3,"mappings":";+HACA,OAAO,eAAe,QAAS,aAAc,CAAE,MAAO,IAAK,CAAC,EAC5D,QAAQ,WAAa,QAAQ,wBAA0B,QAAQ,iBAAmB,QAAQ,cAAgB,OAC1G,IAAI,aAAe,QAAQ,YAAY,EASvC,SAAS,cAAc,MAAO,CAC1B,IAAI,IAAM,MAAM,OAKhB,MAAO,EAAE,KAAO,EAAG,CACf,IAAI,KAAO,MAAM,GAAG,EAMpB,GAAI,IAAM,GAAK,MAAM,YAAY,KAAM,IAAM,CAAC,GAAK,EAAG,CAClD,MAAM,OAAO,IAAK,CAAC,EACnB,QACJ,CACA,QAAS,SAAW,KAAK,OAAQ,SAAU,SAAW,SAAS,OAAQ,CACnE,GAAI,MAAM,SAAS,QAAQ,EAAG,CAC1B,MAAM,OAAO,IAAK,CAAC,EACnB,KACJ,CACJ,CACJ,CACA,OAAO,KACX,CAzBS,sCA0BT,QAAQ,cAAgB,cAKxB,IAAI,kBACH,SAAUA,kBAAkB,CACzBA,kBAAiBA,kBAAiB,cAAc,EAAI,CAAC,EAAI,eACzDA,kBAAiBA,kBAAiB,WAAW,EAAI,CAAC,EAAI,YACtDA,kBAAiBA,kBAAiB,WAAW,EAAI,CAAC,EAAI,YACtDA,kBAAiBA,kBAAiB,UAAU,EAAI,CAAC,EAAI,WACrDA,kBAAiBA,kBAAiB,cAAc,EAAI,EAAE,EAAI,cAC9D,GAAG,iBAAmB,QAAQ,mBAAqB,QAAQ,iBAAmB,CAAC,EAAE,EA2BjF,SAAS,wBAAwB,MAAO,MAAO,CAC3C,IAAI,SAAW,CAAC,EAChB,IAAI,SAAW,CAAC,EAChB,GAAI,QAAU,MAAO,CACjB,MAAO,EACX,CACA,IAAI,SAAW,EAAG,aAAa,aAAa,KAAK,EAAI,MAAQ,MAAM,OACnE,MAAO,QAAS,CACZ,SAAS,QAAQ,OAAO,EACxB,QAAU,QAAQ,MACtB,CACA,SAAW,EAAG,aAAa,aAAa,KAAK,EAAI,MAAQ,MAAM,OAC/D,MAAO,QAAS,CACZ,SAAS,QAAQ,OAAO,EACxB,QAAU,QAAQ,MACtB,CACA,IAAI,OAAS,KAAK,IAAI,SAAS,OAAQ,SAAS,MAAM,EACtD,IAAI,IAAM,EACV,MAAO,IAAM,QAAU,SAAS,GAAG,IAAM,SAAS,GAAG,EAAG,CACpD,KACJ,CACA,GAAI,MAAQ,EAAG,CACX,OAAO,iBAAiB,YAC5B,CACA,IAAI,aAAe,SAAS,IAAM,CAAC,EACnC,IAAI,SAAW,aAAa,SAC5B,IAAI,SAAW,SAAS,GAAG,EAC3B,IAAI,SAAW,SAAS,GAAG,EAC3B,GAAI,SAAS,QAAQ,QAAQ,EAAI,SAAS,QAAQ,QAAQ,EAAG,CACzD,GAAI,eAAiB,MAAO,CACxB,OAAO,iBAAiB,UAAY,iBAAiB,YACzD,CACA,OAAO,iBAAiB,SAC5B,CACA,GAAI,eAAiB,MAAO,CACxB,OAAO,iBAAiB,UAAY,iBAAiB,QACzD,CACA,OAAO,iBAAiB,SAC5B,CAtCS,0DAuCT,QAAQ,wBAA0B,wBAUlC,SAAS,WAAW,MAAO,CACvB,MAAQ,MAAM,OAAO,SAAU,KAAM,EAAG,IAAK,CAAE,MAAO,CAAC,IAAI,SAAS,KAAM,EAAI,CAAC,CAAG,CAAC,EACnF,MAAM,KAAK,SAAU,EAAG,EAAG,CACvB,IAAI,SAAW,wBAAwB,EAAG,CAAC,EAC3C,GAAI,SAAW,iBAAiB,UAAW,CACvC,MAAO,EACX,SACS,SAAW,iBAAiB,UAAW,CAC5C,MAAO,EACX,CACA,MAAO,EACX,CAAC,EACD,OAAO,KACX,CAbS,gCAcT,QAAQ,WAAa","names":["DocumentPosition"],"sources":["/Users/markbakker/RiderProjects/mycrm/node_modules/.pnpm/domutils@3.1.0/node_modules/domutils/lib/helpers.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniqueSort = exports.compareDocumentPosition = exports.DocumentPosition = exports.removeSubsets = void 0;\nvar domhandler_1 = require(\"domhandler\");\n/**\n * Given an array of nodes, remove any member that is contained by another\n * member.\n *\n * @category Helpers\n * @param nodes Nodes to filter.\n * @returns Remaining nodes that aren't contained by other nodes.\n */\nfunction removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n        var node = nodes[idx];\n        /*\n         * Remove the node if it is not unique.\n         * We are going through the array from the end, so we only\n         * have to check nodes that preceed the node under consideration in the array.\n         */\n        if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n            nodes.splice(idx, 1);\n            continue;\n        }\n        for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n            if (nodes.includes(ancestor)) {\n                nodes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n    return nodes;\n}\nexports.removeSubsets = removeSubsets;\n/**\n * @category Helpers\n * @see {@link http://dom.spec.whatwg.org/#dom-node-comparedocumentposition}\n */\nvar DocumentPosition;\n(function (DocumentPosition) {\n    DocumentPosition[DocumentPosition[\"DISCONNECTED\"] = 1] = \"DISCONNECTED\";\n    DocumentPosition[DocumentPosition[\"PRECEDING\"] = 2] = \"PRECEDING\";\n    DocumentPosition[DocumentPosition[\"FOLLOWING\"] = 4] = \"FOLLOWING\";\n    DocumentPosition[DocumentPosition[\"CONTAINS\"] = 8] = \"CONTAINS\";\n    DocumentPosition[DocumentPosition[\"CONTAINED_BY\"] = 16] = \"CONTAINED_BY\";\n})(DocumentPosition = exports.DocumentPosition || (exports.DocumentPosition = {}));\n/**\n * Compare the position of one node against another node in any other document,\n * returning a bitmask with the values from {@link DocumentPosition}.\n *\n * Document order:\n * > There is an ordering, document order, defined on all the nodes in the\n * > document corresponding to the order in which the first character of the\n * > XML representation of each node occurs in the XML representation of the\n * > document after expansion of general entities. Thus, the document element\n * > node will be the first node. Element nodes occur before their children.\n * > Thus, document order orders element nodes in order of the occurrence of\n * > their start-tag in the XML (after expansion of entities). The attribute\n * > nodes of an element occur after the element and before its children. The\n * > relative order of attribute nodes is implementation-dependent.\n *\n * Source:\n * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n *\n * @category Helpers\n * @param nodeA The first node to use in the comparison\n * @param nodeB The second node to use in the comparison\n * @returns A bitmask describing the input nodes' relative position.\n *\n * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n * a description of these values.\n */\nfunction compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n        return 0;\n    }\n    var current = (0, domhandler_1.hasChildren)(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n        aParents.unshift(current);\n        current = current.parent;\n    }\n    current = (0, domhandler_1.hasChildren)(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n        bParents.unshift(current);\n        current = current.parent;\n    }\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n        idx++;\n    }\n    if (idx === 0) {\n        return DocumentPosition.DISCONNECTED;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n        if (sharedParent === nodeB) {\n            return DocumentPosition.FOLLOWING | DocumentPosition.CONTAINED_BY;\n        }\n        return DocumentPosition.FOLLOWING;\n    }\n    if (sharedParent === nodeA) {\n        return DocumentPosition.PRECEDING | DocumentPosition.CONTAINS;\n    }\n    return DocumentPosition.PRECEDING;\n}\nexports.compareDocumentPosition = compareDocumentPosition;\n/**\n * Sort an array of nodes based on their relative position in the document,\n * removing any duplicate nodes. If the array contains nodes that do not belong\n * to the same document, sort order is unspecified.\n *\n * @category Helpers\n * @param nodes Array of DOM nodes.\n * @returns Collection of unique nodes, sorted in document order.\n */\nfunction uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) { return !arr.includes(node, i + 1); });\n    nodes.sort(function (a, b) {\n        var relative = compareDocumentPosition(a, b);\n        if (relative & DocumentPosition.PRECEDING) {\n            return -1;\n        }\n        else if (relative & DocumentPosition.FOLLOWING) {\n            return 1;\n        }\n        return 0;\n    });\n    return nodes;\n}\nexports.uniqueSort = uniqueSort;\n//# sourceMappingURL=helpers.js.map"]}}