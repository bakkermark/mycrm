{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});const{attrsGroups}=require(\"./_collections\");exports.name=\"convertStyleToAttrs\";exports.description=\"converts style to attributes\";const g=__name((...args)=>{return\"(?:\"+args.join(\"|\")+\")\"},\"g\");const stylingProps=attrsGroups.presentation;const rEscape=\"\\\\\\\\(?:[0-9a-f]{1,6}\\\\s?|\\\\r\\\\n|.)\";const rAttr=\"\\\\s*(\"+g(\"[^:;\\\\\\\\]\",rEscape)+\"*?)\\\\s*\";const rSingleQuotes=\"'(?:[^'\\\\n\\\\r\\\\\\\\]|\"+rEscape+\")*?(?:'|$)\";const rQuotes='\"(?:[^\"\\\\n\\\\r\\\\\\\\]|'+rEscape+')*?(?:\"|$)';const rQuotedString=new RegExp(\"^\"+g(rSingleQuotes,rQuotes)+\"$\");const rParenthesis=\"\\\\(\"+g(`[^'\"()\\\\\\\\]+`,rEscape,rSingleQuotes,rQuotes)+\"*?\\\\)\";const rValue=\"\\\\s*(\"+g(`[^!'\"();\\\\\\\\]+?`,rEscape,rSingleQuotes,rQuotes,rParenthesis,\"[^;]*?\")+\"*?)\";const rDeclEnd=\"\\\\s*(?:;\\\\s*|$)\";const rImportant=\"(\\\\s*!important(?![-(\\\\w]))?\";const regDeclarationBlock=new RegExp(rAttr+\":\"+rValue+rImportant+rDeclEnd,\"ig\");const regStripComments=new RegExp(g(rEscape,rSingleQuotes,rQuotes,\"/\\\\*[^]*?\\\\*/\"),\"ig\");exports.fn=(_root,params)=>{const{keepImportant=false}=params;return{element:{enter:node=>{if(node.attributes.style!=null){let styles=[];const newAttributes={};const styleValue=node.attributes.style.replace(regStripComments,match=>{return match[0]==\"/\"?\"\":match[0]==\"\\\\\"&&/[-g-z]/i.test(match[1])?match[1]:match});regDeclarationBlock.lastIndex=0;for(var rule;rule=regDeclarationBlock.exec(styleValue);){if(!keepImportant||!rule[3]){styles.push([rule[1],rule[2]])}}if(styles.length){styles=styles.filter(function(style){if(style[0]){var prop=style[0].toLowerCase(),val=style[1];if(rQuotedString.test(val)){val=val.slice(1,-1)}if(stylingProps.includes(prop)){newAttributes[prop]=val;return false}}return true});Object.assign(node.attributes,newAttributes);if(styles.length){node.attributes.style=styles.map(declaration=>declaration.join(\":\")).join(\";\")}else{delete node.attributes.style}}}}}}};\n})()\n","warnings":[],"map":{"version":3,"mappings":";+HAEA,KAAM,CAAE,WAAY,EAAI,QAAQ,gBAAgB,EAEhD,QAAQ,KAAO,sBACf,QAAQ,YAAc,+BAKtB,MAAM,EAAI,WAAI,OAAS,CACrB,MAAO,MAAQ,KAAK,KAAK,GAAG,EAAI,GAClC,EAFU,KAIV,MAAM,aAAe,YAAY,aACjC,MAAM,QAAU,qCAChB,MAAM,MAAQ,QAAU,EAAE,YAAa,OAAO,EAAI,UAClD,MAAM,cAAgB,sBAAwB,QAAU,aACxD,MAAM,QAAU,sBAAwB,QAAU,aAClD,MAAM,cAAgB,IAAI,OAAO,IAAM,EAAE,cAAe,OAAO,EAAI,GAAG,EAGtE,MAAM,aACJ,MAAQ,EAAE,eAAiB,QAAS,cAAe,OAAO,EAAI,QAEhE,MAAM,OACJ,QACA,EACE,kBACA,QACA,cACA,QACA,aACA,QACF,EACA,MAGF,MAAM,SAAW,kBAEjB,MAAM,WAAa,+BAEnB,MAAM,oBAAsB,IAAI,OAC9B,MAAQ,IAAM,OAAS,WAAa,SACpC,IACF,EAEA,MAAM,iBAAmB,IAAI,OAC3B,EAAE,QAAS,cAAe,QAAS,eAAe,EAClD,IACF,EAmBA,QAAQ,GAAK,CAAC,MAAO,SAAW,CAC9B,KAAM,CAAE,cAAgB,KAAM,EAAI,OAClC,MAAO,CACL,QAAS,CACP,MAAQ,MAAS,CACf,GAAI,KAAK,WAAW,OAAS,KAAM,CAEjC,IAAI,OAAS,CAAC,EAId,MAAM,cAAgB,CAAC,EAGvB,MAAM,WAAa,KAAK,WAAW,MAAM,QACvC,iBACC,OAAU,CACT,OAAO,MAAM,CAAC,GAAK,IACf,GACA,MAAM,CAAC,GAAK,MAAQ,UAAU,KAAK,MAAM,CAAC,CAAC,EAC3C,MAAM,CAAC,EACP,KACN,CACF,EAEA,oBAAoB,UAAY,EAEhC,QAAS,KAAO,KAAO,oBAAoB,KAAK,UAAU,GAAM,CAC9D,GAAI,CAAC,eAAiB,CAAC,KAAK,CAAC,EAAG,CAC9B,OAAO,KAAK,CAAC,KAAK,CAAC,EAAG,KAAK,CAAC,CAAC,CAAC,CAChC,CACF,CAEA,GAAI,OAAO,OAAQ,CACjB,OAAS,OAAO,OAAO,SAAU,MAAO,CACtC,GAAI,MAAM,CAAC,EAAG,CACZ,IAAI,KAAO,MAAM,CAAC,EAAE,YAAY,EAC9B,IAAM,MAAM,CAAC,EAEf,GAAI,cAAc,KAAK,GAAG,EAAG,CAC3B,IAAM,IAAI,MAAM,EAAG,EAAE,CACvB,CAEA,GAAI,aAAa,SAAS,IAAI,EAAG,CAC/B,cAAc,IAAI,EAAI,IAEtB,MAAO,MACT,CACF,CAEA,MAAO,KACT,CAAC,EAED,OAAO,OAAO,KAAK,WAAY,aAAa,EAE5C,GAAI,OAAO,OAAQ,CACjB,KAAK,WAAW,MAAQ,OACrB,IAAK,aAAgB,YAAY,KAAK,GAAG,CAAC,EAC1C,KAAK,GAAG,CACb,KAAO,CACL,OAAO,KAAK,WAAW,KACzB,CACF,CACF,CACF,CACF,CACF,CACF","names":[],"sources":["/Users/markbakker/RiderProjects/mycrm/node_modules/.pnpm/svgo@3.0.3/node_modules/svgo/plugins/convertStyleToAttrs.js"],"sourcesContent":["'use strict';\n\nconst { attrsGroups } = require('./_collections');\n\nexports.name = 'convertStyleToAttrs';\nexports.description = 'converts style to attributes';\n\n/**\n * @type {(...args: string[]) => string}\n */\nconst g = (...args) => {\n  return '(?:' + args.join('|') + ')';\n};\n\nconst stylingProps = attrsGroups.presentation;\nconst rEscape = '\\\\\\\\(?:[0-9a-f]{1,6}\\\\s?|\\\\r\\\\n|.)'; // Like \\\" or \\2051. Code points consume one space.\nconst rAttr = '\\\\s*(' + g('[^:;\\\\\\\\]', rEscape) + '*?)\\\\s*'; // attribute name like ‘fill’\nconst rSingleQuotes = \"'(?:[^'\\\\n\\\\r\\\\\\\\]|\" + rEscape + \")*?(?:'|$)\"; // string in single quotes: 'smth'\nconst rQuotes = '\"(?:[^\"\\\\n\\\\r\\\\\\\\]|' + rEscape + ')*?(?:\"|$)'; // string in double quotes: \"smth\"\nconst rQuotedString = new RegExp('^' + g(rSingleQuotes, rQuotes) + '$');\n// Parentheses, E.g.: url(data:image/png;base64,iVBO...).\n// ':' and ';' inside of it should be threated as is. (Just like in strings.)\nconst rParenthesis =\n  '\\\\(' + g('[^\\'\"()\\\\\\\\]+', rEscape, rSingleQuotes, rQuotes) + '*?' + '\\\\)';\n// The value. It can have strings and parentheses (see above). Fallbacks to anything in case of unexpected input.\nconst rValue =\n  '\\\\s*(' +\n  g(\n    '[^!\\'\"();\\\\\\\\]+?',\n    rEscape,\n    rSingleQuotes,\n    rQuotes,\n    rParenthesis,\n    '[^;]*?'\n  ) +\n  '*?' +\n  ')';\n// End of declaration. Spaces outside of capturing groups help to do natural trimming.\nconst rDeclEnd = '\\\\s*(?:;\\\\s*|$)';\n// Important rule\nconst rImportant = '(\\\\s*!important(?![-(\\\\w]))?';\n// Final RegExp to parse CSS declarations.\nconst regDeclarationBlock = new RegExp(\n  rAttr + ':' + rValue + rImportant + rDeclEnd,\n  'ig'\n);\n// Comments expression. Honors escape sequences and strings.\nconst regStripComments = new RegExp(\n  g(rEscape, rSingleQuotes, rQuotes, '/\\\\*[^]*?\\\\*/'),\n  'ig'\n);\n\n/**\n * Convert style in attributes. Cleanups comments and illegal declarations (without colon) as a side effect.\n *\n * @example\n * <g style=\"fill:#000; color: #fff;\">\n *             ⬇\n * <g fill=\"#000\" color=\"#fff\">\n *\n * @example\n * <g style=\"fill:#000; color: #fff; -webkit-blah: blah\">\n *             ⬇\n * <g fill=\"#000\" color=\"#fff\" style=\"-webkit-blah: blah\">\n *\n * @author Kir Belevich\n *\n * @type {import('./plugins-types').Plugin<'convertStyleToAttrs'>}\n */\nexports.fn = (_root, params) => {\n  const { keepImportant = false } = params;\n  return {\n    element: {\n      enter: (node) => {\n        if (node.attributes.style != null) {\n          // ['opacity: 1', 'color: #000']\n          let styles = [];\n          /**\n           * @type {Record<string, string>}\n           */\n          const newAttributes = {};\n\n          // Strip CSS comments preserving escape sequences and strings.\n          const styleValue = node.attributes.style.replace(\n            regStripComments,\n            (match) => {\n              return match[0] == '/'\n                ? ''\n                : match[0] == '\\\\' && /[-g-z]/i.test(match[1])\n                ? match[1]\n                : match;\n            }\n          );\n\n          regDeclarationBlock.lastIndex = 0;\n          // eslint-disable-next-line no-cond-assign\n          for (var rule; (rule = regDeclarationBlock.exec(styleValue)); ) {\n            if (!keepImportant || !rule[3]) {\n              styles.push([rule[1], rule[2]]);\n            }\n          }\n\n          if (styles.length) {\n            styles = styles.filter(function (style) {\n              if (style[0]) {\n                var prop = style[0].toLowerCase(),\n                  val = style[1];\n\n                if (rQuotedString.test(val)) {\n                  val = val.slice(1, -1);\n                }\n\n                if (stylingProps.includes(prop)) {\n                  newAttributes[prop] = val;\n\n                  return false;\n                }\n              }\n\n              return true;\n            });\n\n            Object.assign(node.attributes, newAttributes);\n\n            if (styles.length) {\n              node.attributes.style = styles\n                .map((declaration) => declaration.join(':'))\n                .join(';');\n            } else {\n              delete node.attributes.style;\n            }\n          }\n        }\n      },\n    },\n  };\n};\n"]}}