{"code":"(()=>{\nvar __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var once=require(\"once\");var noop=__name(function(){},\"noop\");var isRequest=__name(function(stream){return stream.setHeader&&typeof stream.abort===\"function\"},\"isRequest\");var isChildProcess=__name(function(stream){return stream.stdio&&Array.isArray(stream.stdio)&&stream.stdio.length===3},\"isChildProcess\");var eos=__name(function(stream,opts,callback){if(typeof opts===\"function\")return eos(stream,null,opts);if(!opts)opts={};callback=once(callback||noop);var ws=stream._writableState;var rs=stream._readableState;var readable=opts.readable||opts.readable!==false&&stream.readable;var writable=opts.writable||opts.writable!==false&&stream.writable;var cancelled=false;var onlegacyfinish=__name(function(){if(!stream.writable)onfinish()},\"onlegacyfinish\");var onfinish=__name(function(){writable=false;if(!readable)callback.call(stream)},\"onfinish\");var onend=__name(function(){readable=false;if(!writable)callback.call(stream)},\"onend\");var onexit=__name(function(exitCode){callback.call(stream,exitCode?new Error(\"exited with error code: \"+exitCode):null)},\"onexit\");var onerror=__name(function(err){callback.call(stream,err)},\"onerror\");var onclose=__name(function(){process.nextTick(onclosenexttick)},\"onclose\");var onclosenexttick=__name(function(){if(cancelled)return;if(readable&&!(rs&&(rs.ended&&!rs.destroyed)))return callback.call(stream,new Error(\"premature close\"));if(writable&&!(ws&&(ws.ended&&!ws.destroyed)))return callback.call(stream,new Error(\"premature close\"))},\"onclosenexttick\");var onrequest=__name(function(){stream.req.on(\"finish\",onfinish)},\"onrequest\");if(isRequest(stream)){stream.on(\"complete\",onfinish);stream.on(\"abort\",onclose);if(stream.req)onrequest();else stream.on(\"request\",onrequest)}else if(writable&&!ws){stream.on(\"end\",onlegacyfinish);stream.on(\"close\",onlegacyfinish)}if(isChildProcess(stream))stream.on(\"exit\",onexit);stream.on(\"end\",onend);stream.on(\"finish\",onfinish);if(opts.error!==false)stream.on(\"error\",onerror);stream.on(\"close\",onclose);return function(){cancelled=true;stream.removeListener(\"complete\",onfinish);stream.removeListener(\"abort\",onclose);stream.removeListener(\"request\",onrequest);if(stream.req)stream.req.removeListener(\"finish\",onfinish);stream.removeListener(\"end\",onlegacyfinish);stream.removeListener(\"close\",onlegacyfinish);stream.removeListener(\"finish\",onfinish);stream.removeListener(\"exit\",onexit);stream.removeListener(\"end\",onend);stream.removeListener(\"error\",onerror);stream.removeListener(\"close\",onclose)}},\"eos\");module.exports=eos;\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":[],"sources":["/Users/markbakker/RiderProjects/mycrm/node_modules/.pnpm/end-of-stream@1.4.4/node_modules/end-of-stream/index.js"],"sourcesContent":["var once = require('once');\n\nvar noop = function() {};\n\nvar isRequest = function(stream) {\n\treturn stream.setHeader && typeof stream.abort === 'function';\n};\n\nvar isChildProcess = function(stream) {\n\treturn stream.stdio && Array.isArray(stream.stdio) && stream.stdio.length === 3\n};\n\nvar eos = function(stream, opts, callback) {\n\tif (typeof opts === 'function') return eos(stream, null, opts);\n\tif (!opts) opts = {};\n\n\tcallback = once(callback || noop);\n\n\tvar ws = stream._writableState;\n\tvar rs = stream._readableState;\n\tvar readable = opts.readable || (opts.readable !== false && stream.readable);\n\tvar writable = opts.writable || (opts.writable !== false && stream.writable);\n\tvar cancelled = false;\n\n\tvar onlegacyfinish = function() {\n\t\tif (!stream.writable) onfinish();\n\t};\n\n\tvar onfinish = function() {\n\t\twritable = false;\n\t\tif (!readable) callback.call(stream);\n\t};\n\n\tvar onend = function() {\n\t\treadable = false;\n\t\tif (!writable) callback.call(stream);\n\t};\n\n\tvar onexit = function(exitCode) {\n\t\tcallback.call(stream, exitCode ? new Error('exited with error code: ' + exitCode) : null);\n\t};\n\n\tvar onerror = function(err) {\n\t\tcallback.call(stream, err);\n\t};\n\n\tvar onclose = function() {\n\t\tprocess.nextTick(onclosenexttick);\n\t};\n\n\tvar onclosenexttick = function() {\n\t\tif (cancelled) return;\n\t\tif (readable && !(rs && (rs.ended && !rs.destroyed))) return callback.call(stream, new Error('premature close'));\n\t\tif (writable && !(ws && (ws.ended && !ws.destroyed))) return callback.call(stream, new Error('premature close'));\n\t};\n\n\tvar onrequest = function() {\n\t\tstream.req.on('finish', onfinish);\n\t};\n\n\tif (isRequest(stream)) {\n\t\tstream.on('complete', onfinish);\n\t\tstream.on('abort', onclose);\n\t\tif (stream.req) onrequest();\n\t\telse stream.on('request', onrequest);\n\t} else if (writable && !ws) { // legacy streams\n\t\tstream.on('end', onlegacyfinish);\n\t\tstream.on('close', onlegacyfinish);\n\t}\n\n\tif (isChildProcess(stream)) stream.on('exit', onexit);\n\n\tstream.on('end', onend);\n\tstream.on('finish', onfinish);\n\tif (opts.error !== false) stream.on('error', onerror);\n\tstream.on('close', onclose);\n\n\treturn function() {\n\t\tcancelled = true;\n\t\tstream.removeListener('complete', onfinish);\n\t\tstream.removeListener('abort', onclose);\n\t\tstream.removeListener('request', onrequest);\n\t\tif (stream.req) stream.req.removeListener('finish', onfinish);\n\t\tstream.removeListener('end', onlegacyfinish);\n\t\tstream.removeListener('close', onlegacyfinish);\n\t\tstream.removeListener('finish', onfinish);\n\t\tstream.removeListener('exit', onexit);\n\t\tstream.removeListener('end', onend);\n\t\tstream.removeListener('error', onerror);\n\t\tstream.removeListener('close', onclose);\n\t};\n};\n\nmodule.exports = eos;\n"]}}