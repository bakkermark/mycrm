{"code":"(()=>{\n\"use strict\";var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});var __extends=exports&&exports.__extends||function(){var extendStatics=__name(function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b2){d2.__proto__=b2}||function(d2,b2){for(var p in b2)if(Object.prototype.hasOwnProperty.call(b2,p))d2[p]=b2[p]};return extendStatics(d,b)},\"extendStatics\");return function(d,b){if(typeof b!==\"function\"&&b!==null)throw new TypeError(\"Class extends value \"+String(b)+\" is not a constructor or null\");extendStatics(d,b);function __(){this.constructor=d}__name(__,\"__\");d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=exports&&exports.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:true});exports.cloneNode=exports.hasChildren=exports.isDocument=exports.isDirective=exports.isComment=exports.isText=exports.isCDATA=exports.isTag=exports.Element=exports.Document=exports.CDATA=exports.NodeWithChildren=exports.ProcessingInstruction=exports.Comment=exports.Text=exports.DataNode=exports.Node=void 0;var domelementtype_1=require(\"domelementtype\");var Node=function(){function Node2(){this.parent=null;this.prev=null;this.next=null;this.startIndex=null;this.endIndex=null}__name(Node2,\"Node\");Object.defineProperty(Node2.prototype,\"parentNode\",{get:function(){return this.parent},set:function(parent){this.parent=parent},enumerable:false,configurable:true});Object.defineProperty(Node2.prototype,\"previousSibling\",{get:function(){return this.prev},set:function(prev){this.prev=prev},enumerable:false,configurable:true});Object.defineProperty(Node2.prototype,\"nextSibling\",{get:function(){return this.next},set:function(next){this.next=next},enumerable:false,configurable:true});Node2.prototype.cloneNode=function(recursive){if(recursive===void 0){recursive=false}return cloneNode(this,recursive)};return Node2}();exports.Node=Node;var DataNode=function(_super){__extends(DataNode2,_super);function DataNode2(data){var _this=_super.call(this)||this;_this.data=data;return _this}__name(DataNode2,\"DataNode\");Object.defineProperty(DataNode2.prototype,\"nodeValue\",{get:function(){return this.data},set:function(data){this.data=data},enumerable:false,configurable:true});return DataNode2}(Node);exports.DataNode=DataNode;var Text=function(_super){__extends(Text2,_super);function Text2(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.type=domelementtype_1.ElementType.Text;return _this}__name(Text2,\"Text\");Object.defineProperty(Text2.prototype,\"nodeType\",{get:function(){return 3},enumerable:false,configurable:true});return Text2}(DataNode);exports.Text=Text;var Comment=function(_super){__extends(Comment2,_super);function Comment2(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.type=domelementtype_1.ElementType.Comment;return _this}__name(Comment2,\"Comment\");Object.defineProperty(Comment2.prototype,\"nodeType\",{get:function(){return 8},enumerable:false,configurable:true});return Comment2}(DataNode);exports.Comment=Comment;var ProcessingInstruction=function(_super){__extends(ProcessingInstruction2,_super);function ProcessingInstruction2(name,data){var _this=_super.call(this,data)||this;_this.name=name;_this.type=domelementtype_1.ElementType.Directive;return _this}__name(ProcessingInstruction2,\"ProcessingInstruction\");Object.defineProperty(ProcessingInstruction2.prototype,\"nodeType\",{get:function(){return 1},enumerable:false,configurable:true});return ProcessingInstruction2}(DataNode);exports.ProcessingInstruction=ProcessingInstruction;var NodeWithChildren=function(_super){__extends(NodeWithChildren2,_super);function NodeWithChildren2(children){var _this=_super.call(this)||this;_this.children=children;return _this}__name(NodeWithChildren2,\"NodeWithChildren\");Object.defineProperty(NodeWithChildren2.prototype,\"firstChild\",{get:function(){var _a;return(_a=this.children[0])!==null&&_a!==void 0?_a:null},enumerable:false,configurable:true});Object.defineProperty(NodeWithChildren2.prototype,\"lastChild\",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:false,configurable:true});Object.defineProperty(NodeWithChildren2.prototype,\"childNodes\",{get:function(){return this.children},set:function(children){this.children=children},enumerable:false,configurable:true});return NodeWithChildren2}(Node);exports.NodeWithChildren=NodeWithChildren;var CDATA=function(_super){__extends(CDATA2,_super);function CDATA2(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.type=domelementtype_1.ElementType.CDATA;return _this}__name(CDATA2,\"CDATA\");Object.defineProperty(CDATA2.prototype,\"nodeType\",{get:function(){return 4},enumerable:false,configurable:true});return CDATA2}(NodeWithChildren);exports.CDATA=CDATA;var Document=function(_super){__extends(Document2,_super);function Document2(){var _this=_super!==null&&_super.apply(this,arguments)||this;_this.type=domelementtype_1.ElementType.Root;return _this}__name(Document2,\"Document\");Object.defineProperty(Document2.prototype,\"nodeType\",{get:function(){return 9},enumerable:false,configurable:true});return Document2}(NodeWithChildren);exports.Document=Document;var Element=function(_super){__extends(Element2,_super);function Element2(name,attribs,children,type){if(children===void 0){children=[]}if(type===void 0){type=name===\"script\"?domelementtype_1.ElementType.Script:name===\"style\"?domelementtype_1.ElementType.Style:domelementtype_1.ElementType.Tag}var _this=_super.call(this,children)||this;_this.name=name;_this.attribs=attribs;_this.type=type;return _this}__name(Element2,\"Element\");Object.defineProperty(Element2.prototype,\"nodeType\",{get:function(){return 1},enumerable:false,configurable:true});Object.defineProperty(Element2.prototype,\"tagName\",{get:function(){return this.name},set:function(name){this.name=name},enumerable:false,configurable:true});Object.defineProperty(Element2.prototype,\"attributes\",{get:function(){var _this=this;return Object.keys(this.attribs).map(function(name){var _a,_b;return{name,value:_this.attribs[name],namespace:(_a=_this[\"x-attribsNamespace\"])===null||_a===void 0?void 0:_a[name],prefix:(_b=_this[\"x-attribsPrefix\"])===null||_b===void 0?void 0:_b[name]}})},enumerable:false,configurable:true});return Element2}(NodeWithChildren);exports.Element=Element;function isTag(node){return(0,domelementtype_1.isTag)(node)}__name(isTag,\"isTag\");exports.isTag=isTag;function isCDATA(node){return node.type===domelementtype_1.ElementType.CDATA}__name(isCDATA,\"isCDATA\");exports.isCDATA=isCDATA;function isText(node){return node.type===domelementtype_1.ElementType.Text}__name(isText,\"isText\");exports.isText=isText;function isComment(node){return node.type===domelementtype_1.ElementType.Comment}__name(isComment,\"isComment\");exports.isComment=isComment;function isDirective(node){return node.type===domelementtype_1.ElementType.Directive}__name(isDirective,\"isDirective\");exports.isDirective=isDirective;function isDocument(node){return node.type===domelementtype_1.ElementType.Root}__name(isDocument,\"isDocument\");exports.isDocument=isDocument;function hasChildren(node){return Object.prototype.hasOwnProperty.call(node,\"children\")}__name(hasChildren,\"hasChildren\");exports.hasChildren=hasChildren;function cloneNode(node,recursive){if(recursive===void 0){recursive=false}var result;if(isText(node)){result=new Text(node.data)}else if(isComment(node)){result=new Comment(node.data)}else if(isTag(node)){var children=recursive?cloneChildren(node.children):[];var clone_1=new Element(node.name,__assign({},node.attribs),children);children.forEach(function(child){return child.parent=clone_1});if(node.namespace!=null){clone_1.namespace=node.namespace}if(node[\"x-attribsNamespace\"]){clone_1[\"x-attribsNamespace\"]=__assign({},node[\"x-attribsNamespace\"])}if(node[\"x-attribsPrefix\"]){clone_1[\"x-attribsPrefix\"]=__assign({},node[\"x-attribsPrefix\"])}result=clone_1}else if(isCDATA(node)){var children=recursive?cloneChildren(node.children):[];var clone_2=new CDATA(children);children.forEach(function(child){return child.parent=clone_2});result=clone_2}else if(isDocument(node)){var children=recursive?cloneChildren(node.children):[];var clone_3=new Document(children);children.forEach(function(child){return child.parent=clone_3});if(node[\"x-mode\"]){clone_3[\"x-mode\"]=node[\"x-mode\"]}result=clone_3}else if(isDirective(node)){var instruction=new ProcessingInstruction(node.name,node.data);if(node[\"x-name\"]!=null){instruction[\"x-name\"]=node[\"x-name\"];instruction[\"x-publicId\"]=node[\"x-publicId\"];instruction[\"x-systemId\"]=node[\"x-systemId\"]}result=instruction}else{throw new Error(\"Not implemented yet: \".concat(node.type))}result.startIndex=node.startIndex;result.endIndex=node.endIndex;if(node.sourceCodeLocation!=null){result.sourceCodeLocation=node.sourceCodeLocation}return result}__name(cloneNode,\"cloneNode\");exports.cloneNode=cloneNode;function cloneChildren(childs){var children=childs.map(function(child){return cloneNode(child,true)});for(var i=1;i<children.length;i++){children[i].prev=children[i-1];children[i-1].next=children[i]}return children}__name(cloneChildren,\"cloneChildren\");\n})()\n","warnings":[],"map":{"version":3,"mappings":"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","names":["d","b","Node","DataNode","Text","Comment","ProcessingInstruction","NodeWithChildren","CDATA","Document","Element"],"sources":["/Users/markbakker/RiderProjects/mycrm/node_modules/.pnpm/domhandler@5.0.3/node_modules/domhandler/lib/node.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.hasChildren = exports.isDocument = exports.isDirective = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = exports.Element = exports.Document = exports.CDATA = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    function Node() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        /**\n         * Same as {@link parent}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        /**\n         * Same as {@link prev}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        /**\n         * Same as {@link next}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\n/**\n * A node that contains some data.\n */\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param data The content of the data node\n     */\n    function DataNode(data) {\n        var _this = _super.call(this) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        /**\n         * Same as {@link data}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\n/**\n * Text within the document.\n */\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Text;\n        return _this;\n    }\n    Object.defineProperty(Text.prototype, \"nodeType\", {\n        get: function () {\n            return 3;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Text;\n}(DataNode));\nexports.Text = Text;\n/**\n * Comments within the document.\n */\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Comment;\n        return _this;\n    }\n    Object.defineProperty(Comment.prototype, \"nodeType\", {\n        get: function () {\n            return 8;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\n/**\n * Processing instructions, including doc types.\n */\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, data) || this;\n        _this.name = name;\n        _this.type = domelementtype_1.ElementType.Directive;\n        return _this;\n    }\n    Object.defineProperty(ProcessingInstruction.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(children) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        /** First child of the node. */\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        /** Last child of the node. */\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        /**\n         * Same as {@link children}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar CDATA = /** @class */ (function (_super) {\n    __extends(CDATA, _super);\n    function CDATA() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.CDATA;\n        return _this;\n    }\n    Object.defineProperty(CDATA.prototype, \"nodeType\", {\n        get: function () {\n            return 4;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CDATA;\n}(NodeWithChildren));\nexports.CDATA = CDATA;\n/**\n * The root node of the document.\n */\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = domelementtype_1.ElementType.Root;\n        return _this;\n    }\n    Object.defineProperty(Document.prototype, \"nodeType\", {\n        get: function () {\n            return 9;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\n/**\n * An element within the DOM.\n */\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children, type) {\n        if (children === void 0) { children = []; }\n        if (type === void 0) { type = name === \"script\"\n            ? domelementtype_1.ElementType.Script\n            : name === \"style\"\n                ? domelementtype_1.ElementType.Style\n                : domelementtype_1.ElementType.Tag; }\n        var _this = _super.call(this, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.type = type;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"nodeType\", {\n        get: function () {\n            return 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        /**\n         * Same as {@link name}.\n         * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n         */\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return (0, domelementtype_1.isTag)(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === domelementtype_1.ElementType.CDATA;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === domelementtype_1.ElementType.Text;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === domelementtype_1.ElementType.Comment;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDirective(node) {\n    return node.type === domelementtype_1.ElementType.Directive;\n}\nexports.isDirective = isDirective;\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nfunction isDocument(node) {\n    return node.type === domelementtype_1.ElementType.Root;\n}\nexports.isDocument = isDocument;\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_1 = new Element(node.name, __assign({}, node.attribs), children);\n        children.forEach(function (child) { return (child.parent = clone_1); });\n        if (node.namespace != null) {\n            clone_1.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone_1[\"x-attribsNamespace\"] = __assign({}, node[\"x-attribsNamespace\"]);\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone_1[\"x-attribsPrefix\"] = __assign({}, node[\"x-attribsPrefix\"]);\n        }\n        result = clone_1;\n    }\n    else if (isCDATA(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_2 = new CDATA(children);\n        children.forEach(function (child) { return (child.parent = clone_2); });\n        result = clone_2;\n    }\n    else if (isDocument(node)) {\n        var children = recursive ? cloneChildren(node.children) : [];\n        var clone_3 = new Document(children);\n        children.forEach(function (child) { return (child.parent = clone_3); });\n        if (node[\"x-mode\"]) {\n            clone_3[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone_3;\n    }\n    else if (isDirective(node)) {\n        var instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(\"Not implemented yet: \".concat(node.type));\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n"]}}